@typeparam T
@inherits BlazorEngine.Components.Base.BlazorEngineComponentBase
@{
  var pageActions = Services.MetadataRegistry.GetPageActions(this);
  var gridActions = Services.MetadataRegistry.GetGridActions(this);
}

<PageTitle>@Title</PageTitle>
<div class="list-page-root">
  <div class="list-page-header">

    @if (ShowActions)
    {
      <ActionBar Context="this" PageActions="pageActions" />
    }

  </div>
    <div class="list-page-content contentblock">

      <ListDataGrid T="T"
                    Context="this"
                    Data="Content?.AsQueryable()"
                    VisibleFields="VisibleFields"
                    OnDiscard="(data) => OnDelete(data)"
                    OnSave="(data) => OnSave(data)"
                    OnNewItem="()=> NewItem()"
                    PermissionSet="permissionSet"
                    @bind-Selected="Selected"
                    ShowButtons="ShowButtons"
                    GridActions="gridActions"
                    UseVirtualization="UseVirtualization"
                    EditFormType="EditFormType"
                    ShowExportToExcel="ShowExportToExcel"
                    RefreshData="@(RefreshData)" />
    </div>

  </div>
